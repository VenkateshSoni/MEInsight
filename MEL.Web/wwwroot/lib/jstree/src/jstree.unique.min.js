/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/jstree@3.3.8/src/jstree.unique.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define("jstree.unique",["jquery","jstree"],e):"object"==typeof exports?e(require("jquery"),require("jstree")):e(jQuery,jQuery.jstree)}(function(e,t,i){"use strict";e.jstree.plugins.unique||(e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(t,r){this.check=function(t,i,s,n,a){if(!1===r.check.call(this,t,i,s,n,a))return!1;if(i=i&&i.id?i:this.get_node(i),!(s=s&&s.id?s:this.get_node(s))||!s.children)return!0;var u,o,d,c="rename_node"===t?n:i.text,h=[],l=this.settings.unique.case_sensitive,F=this.settings.unique.trim_whitespace,_=this._model.data;for(u=0,o=s.children.length;u<o;u++)d=_[s.children[u]].text,l||(d=d.toLowerCase()),F&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),h.push(d);switch(l||(c=c.toLowerCase()),F&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return d=i.text||"",l||(d=d.toLowerCase()),F&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(u=-1===e.inArray(c,h)||i.text&&d===c)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!s||!s.id)&&s.id})}),u;case"create_node":return(u=-1===e.inArray(c,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!s||!s.id)&&s.id})}),u;case"copy_node":return(u=-1===e.inArray(c,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!s||!s.id)&&s.id})}),u;case"move_node":return(u=i.parent===s.id&&(!a||!a.is_multi)||-1===e.inArray(c,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!s||!s.id)&&s.id})}),u}return!0},this.create_node=function(t,s,n,a,u){if(!s||s.text===i){if(null===t&&(t=e.jstree.root),!(t=this.get_node(t)))return r.create_node.call(this,t,s,n,a,u);if(!(n=n===i?"last":n).toString().match(/^(before|after)$/)&&!u&&!this.is_loaded(t))return r.create_node.call(this,t,s,n,a,u);s||(s={});var o,d,c,h,l,F,_=this._model.data,g=this.settings.unique.case_sensitive,p=this.settings.unique.trim_whitespace,f=this.settings.unique.duplicate;for(d=o=this.get_string("New node"),c=[],h=0,l=t.children.length;h<l;h++)F=_[t.children[h]].text,g||(F=F.toLowerCase()),p&&(F=F.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),c.push(F);for(h=1,F=d,g||(F=F.toLowerCase()),p&&(F=F.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(F,c);)F=d=f.call(this,o,++h).toString(),g||(F=F.toLowerCase()),p&&(F=F.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));s.text=d}return r.create_node.call(this,t,s,n,a,u)}})});
//# sourceMappingURL=/sm/ad47708dee7d7910b5689a1f4553c9b2375c5ebabd5b92a7fe23d6553c1f2b28.map
/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/jstree@3.3.8/src/jstree.state.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define("jstree.state",["jquery","jstree"],t):"object"==typeof exports?t(require("jquery"),require("jstree")):t(jQuery,jQuery.jstree)}(function(t,e,s){"use strict";if(!t.jstree.plugins.state){var r=!1;t.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},t.jstree.plugins.state=function(e,s){this.bind=function(){s.bind.call(this);var e=t.proxy(function(){this.element.on(this.settings.state.events,t.proxy(function(){r&&clearTimeout(r),r=setTimeout(t.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",t.proxy(function(t,s){this.element.one("restore_state.jstree",e),this.restore_state()||e()},this))},this.save_state=function(){var e=this.get_state();this.settings.state.preserve_loaded||delete e.core.loaded;var s={state:e,ttl:this.settings.state.ttl,sec:+new Date};t.vakata.storage.set(this.settings.state.key,JSON.stringify(s))},this.restore_state=function(){var e=t.vakata.storage.get(this.settings.state.key);if(e)try{e=JSON.parse(e)}catch(t){return!1}return!(e&&e.ttl&&e.sec&&+new Date-e.sec>e.ttl)&&(e&&e.state&&(e=e.state),e&&t.isFunction(this.settings.state.filter)&&(e=this.settings.state.filter.call(this,e)),!!e&&(this.settings.state.preserve_loaded||delete e.core.loaded,this.element.one("set_state.jstree",function(s,r){r.instance.trigger("restore_state",{state:t.extend(!0,{},e)})}),this.set_state(e),!0))},this.clear_state=function(){return t.vakata.storage.del(this.settings.state.key)}},function(t,e){t.vakata.storage={set:function(t,e){return window.localStorage.setItem(t,e)},get:function(t){return window.localStorage.getItem(t)},del:function(t){return window.localStorage.removeItem(t)}}}(t)}});
//# sourceMappingURL=/sm/6f20e0417714fe57a4b11b3dc84ab54de3e4654b20ca68b75c50ff893665ad4f.map